# 크리스마스 프로모션 요구사항 분석
비즈니스팀에서 12월 이벤트를 개최하기 위해 개발팀에 다음과 같은 요구사항을 요청하였다.

## 요구사항 1 - 12월 할인 이벤트
- 12월 이벤트 메뉴의 카테고리와 각 카테고리별 음식 리스트는 다음과 같다
  - 에피타이저
    - 양송이수프(6,000), 타파스(5,500), 시저샐러드(8,000)
  - 메인
    - 티본스테이크(55,000), 바비큐립(54,000), 해산물파스타(35,000), 크리스마스파스타(25,000)
  - 디저트
    - 초코케이크(15,000), 아이스크림(5,000)
  - 음료
    - 제로콜라(3,000), 레드와인(60,000), 샴페인(25,000)
- 이벤트 기간에는 중복된 할인이 적용 가능하다.
- 이벤트 혜탹을 받기 위해서는 총주문 금액이 10000원이 이상이어야 한다.
- 음료 메뉴만으로는 주문을 할 수 없다.
- 한 주문에 최대 주문할 수 있는 메뉴의 갯수는 20개를 초과할 수 없다.
  - 양송이 수프 3, 티본스테이크 3, 바비큐립 3, 초코케이크1, 아이스크림 2, 제로콜라 1, 레드와인 1의 총 메뉴 개수는 14로 주문이 가능하다.
    - 양송이 수프 6, 티본스테이크 6, 바비큐립 6, 초코케이크2, 아이스크림 4, 제로콜라 2, 레드와인 2의 총 메뉴 개수는 28로 주문이 불가능하다.
- 이벤트는 총 N가지가 진행 될 예정이다.
   -  크리스마스 디데이 할인 이벤트
      - 이벤트는 2023년 12월 1일 00:00부터 2023년 12월 25일 23:59까지 진행된다.
      - 최초 할인 금액은 이벤트 시작일인 12월 1일 00:00 1000원으로 부터 시작한다.
      - 할인 금액은 이벤트 시작일인 2023년 12월 1일 00:00부터 24시간이 경과한 후 100원씩 증가한다.
        - 12월 1일 1000원 할인, 12월 2일 1100원 할인...12월 25일 3400원 할인
      - 크리스마스 디데이 할인은 총 주문 금액에서 주문일의 할인 금액만큼 차감한다.
  - 12월 기본 이벤트
    - 12월 기본 이벤트는 2023년 12월 1일 00:00부터 2023년 12월 31일 23:59까지 적용
      - 평일 할인 (일요일 ~ 목요일)
        - 평일에는 디저트 메뉴가 1개당 2023원이 할인 된다.
          - 횟수에 제한은 없다.
          - 크리스마스 디데이 할인과 겹치는 경우, 우선 기본 이벤트 할인을 적용한 후, 주문시 총 금액에서 크리스마스 디데이 할인 금액을 차감한다.
      - 주말 할인 (금요일 ~ 토요일)
        - 주말에는 메인 메뉴가 1개당 2023원이 할인 된다.
          - 횟수에 제한은 없다.
          - 크리스마스 디데이 할인과 겹치는 경우, 우선 기본 이벤트 할인을 적용한 후, 주문시 총 금액에서 크리스마스 디데이 할인 금액을 차감한다.
      - 특별 할인
        - 이벤트 달력에 별이 있으면 총주문 금액에서 1000원이 할인된다.
          - 횟수에 제한은 없다.
          - 크리스마스 디데이 할인과 겹치는 경우, 우선 기본 이벤트 할인을 적용한 후, 주문시 총 금액에서 크리스마스 디데이 할인 금액을 차감한다.
      - 증정 이벤트
        - 할인 전 총 주문 금액이 12만원 이상이라면, 샴페인 1병을 증정한다.
  - 혜택 금액에 따른 12월 이벤트 배지 부여 이벤트
    - 12월 이벤트기간동안 (2023년 12월 1일 00:00 ~ 2023년 12월 31일 23:59) 고객이 받은 총 할인 혜택금액을 기준으로 하여 이벤트 배지 부여
      - 5천원 이상 할인 혜택을 받은 고객 : 별 배지
      - 1만원 이상 할인 혜택을 받은 고객 : 트리 배지
      - 2만원 이상 할인 혜택을 받은 고객 : 산타 배지
## 요구사항 2 - 12월 이벤트 플래너
- 고객이 식당에 방문 날짜와 메뉴를 미리 선택할 수 있는 기능
- 이벤트 플래너를 사용하여 주문시 다음과 같은 정보들을 보여준다
  - 주문 메뉴
  - 할인 전 총주문 금액
    - 할인 전 총 주문 금액이 12만원 이상이면 증정메뉴로 샴페인을 함께 보여줘야 한다.
  - 고객이 받은 혜택 내역
    - 고객에게 적용된 모든 혜택 내역만을 보여주어야 한다.
      - 해당사항이 없는 경우 '없음'으로 출력한다.
      - 출력 순서는 상관없다
  - 고객이 받은 총 혜택 금액
    - 고객이 증정 샴페인을 받은 경우 증정 상품의 금액만큼 할인 받은것으로 보여준다. 
    - 혜택금액이 없는 경우 '0원'으로 출력한다. 
      - 해당 금액을 기준으로 하여 12월 이벤트 배지를 선정하여 보여준다.
        - 해당사항이 없는 경우 '없음'으로 출력한다.
  - 할인 후 예상 결제 금액
- 해당 플래너는 다음과 같은 입력을 받는다.
  - 12월 중 식당 예상 방문 날짜 (숫자형식)
    - 날짜 범위를 넘어가면 예외처리
  - 주문 할 메뉴와 개수를 입력 받는다.
    - 입력 형식은 '메뉴이름-수량' 이며 해당 형식을 지키지 못하면 예외처리


# 구현 기능 정리
- 입력 기능
  - 방문 날짜 입력 기능
    - 해당월의 날짜 범위에 맞는 숫자 형식을 받아야 한다.
    - 1보다 작거나 해달월의 막일보다 큰 경우, 혹은 숫자 형식이 아닌 경우 : "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요."
  - 메뉴 및 수량 입력 기능
    - 각 메뉴는 "메뉴명-수량" 형식으로 입력되며 ','를 사용하여 구분해야한다.
      - 유저의 입력 값을 ','로 구분하여 List로 변환하는 기능이 필요함
    - 메뉴판에 없는 메뉴 입력시 : "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
    - 매뉴 개수 입력시 1보다 작거나 숫자 이외의 입력값을 입력시 : "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
    - 메뉴 입력 형식이 설정된 형식과 다른 경우' : "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
    - 중복된 메뉴를 입력시 : "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
- 출력 기능
  - 이벤트 플래너 출력 기능
    - 유저 주문 메뉴 및 수량 (메뉴명 N개) 형식
    - 할인 전 총주문 금액
    - 증정 메뉴
      - 없는 경우 '없음' 출력
    - 혜택 내역
      - 없는 경우 '없음' 출력
    - 총혜택 금액
      - 증정 메뉴를 받은 경우 해당 메뉴의 가격 만큼 혜택받은것으로 출력 
      - 없는 경우 '0원' 출력
    - 할인 후 예상 결제 금액
    -  이벤트 배지 
  - 에러메시지 출력 기능 : 모든 에러 메시지는 "[ERROR]로 시작한다."
    - 메뉴판에 없는 메뉴 입력시 : "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
    - 매뉴 개수 입력시 1보다 작거나 숫자 이외의 입력값을 입력시 : "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
    - 메뉴 입력 형식이 설정된 형식과 다른 경우' : "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
    - 중복된 메뉴를 입력시 : "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
    - 1보다 작거나 해달월의 막일보다 큰 경우, 혹은 숫자 형식이 아닌 경우 : "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요."
- 유저가 입력한 메뉴 이름으로 메뉴 정보 찾는 기능
  - 각 메뉴별 이름과 가격 정보를 가지고 있는 enum 생성하여 관리
  - 유저가 입력한 이름으로 각 음식 정보를 조회하는 메서드 구현
- 크리스마스 디데이 할인 기능
  - 날짜 검증 기능
    - 2023년 12월 1일 00:00부터 2023년 12월 25일 23:59까지만 유효하다.
  - 할인 금액 계산 기능
    - 12월 1일 00:00부터 1000원 할인을 시작으로 매 24시간마다 할인 금액을 100원 증가시킨다.
    - 12월 25일에는 3400원이 할인된다.
- 평일 할인 기능
  - 주문일이 평일이라면 (일요일 ~ 목요일) 디저트 메뉴를 1개당 2023원 할인한다.
    - 해당 주문 금액은 선반영이 되어야 하며, 다른 할인들과 중복이 가능하다.
- 주말 할인 기능
  - 주문일이 주말이라면 (금요일 ~ 토요일) 메인 메뉴를 1개당 2023원 할인한다.
    -  해당 주문 금액은 선반영이 되어야 하며, 다른 할인들과 중복이 가능하다.
- 특별 할인 기능
  - 이벤트 달력 기준으로 별 표시가 있는 날에는 총주문 금액에서 1000원 할인한다.
- 전체적인 할인 프로세스
  - 평일 여부 확인 -> 필요시 할인 반영 -> 주말 여부 확인 -> 필요시 할인 반영 -> 특별 할인 여부 확인 -> 필요시 할인 반영 -> 크리스마스 디데이 할인 가능 여부 확인 -> 크리스마스 디데이 할인 금액 계산 -> 크리스마스 디데이 할인 적용
- 증정 이벤트 기능
  - 할인을 하나도 적용하지 않은 총주문 금액이 12만원 이상이라면 샴페인을 증정한다.
- 이벤트 기간 검증 기능
  - 주문건이 이벤트 기간동안 발생하는 주문인지 확인한다.
  - 주문이 발생한 날에 어떤 혜택이 주어지는지 검증한다.
- 배지 부여 기능
  - 매 주문시 총 혜택 금액을 기준으로 이벤트 배지의 종류와 부여 여부를 확인하는 기능
    -  5천원 이상 혜택을 받은 경우 : 별 배지
    -  1만원 이상 혜택을 받은 경우 : 트리 배지
    -  2만원 이상 혜택을 받은 경우 : 산타 배지
- 기타 검증 기능
  - 총 주문 금액이 10000원을 초과하는지 검증
    -  만약 총 주문 금액이 10000원을 넘지 않는경우 어떤 혜택도 적용하지 않는다.
  - 음료메뉴만으로는 주문금액, 주문수량과 별개도 절대 주문이 불가능하다.
    - 음료 메뉴만으로 주문시 : "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
  - 하나의 주문시 최대 20개의 메뉴로만 구성할 수 있다.
    - 20개를 초과하는 메뉴로 주문시 : "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."